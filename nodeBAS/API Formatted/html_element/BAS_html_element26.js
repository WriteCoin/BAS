function BAS_element_get_url() { const args = _arguments(); const selector = args.selector; const noWait = args.noWait || false; const stopThread = args.stopThread || true; const timeout = args.timeout;; _SELECTOR = selector; if (timeout) { waiter_timeout_next(timeout); }; wait_element(_SELECTOR)!; const script = "(function(){var link = self;while(link && link.tagName.toLowerCase() != "a"){link = link.parentNode};if(link && link.hasAttribute("href")){return link.getAttribute("href")} else {return ""};}());"; if !(!noWait && stopThread) { get_element_selector(_SELECTOR, false).script(script)!; } else { get_element_selector(_SELECTOR, false).nowait().script(script)!; }; VAR_LINK_URL = _result(); _function_return(VAR_LINK_URL);};