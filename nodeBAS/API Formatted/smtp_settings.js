;function BAS_smtp_client_set_proxy(server, port, name, password) {; const hash = proxy_parse(server); if (port !== "auto") {; hash.IsHttp = port === "http"; }; const login = name; const password = password; if (login.length > 0 && password.length > 0) {; hash.name = login; hash.password = password; }; smtp_client_set_proxy(; hash.server,; hash.Port,; hash.IsHttp,; hash.name,; hash.password; );};;;function BAS_send_email() {; const args = _arguments(); const mailcc = args.mail_cc || ""; const mailsubject = args.mail_subject || ""; const mailbody = args.mail_body || ""; const attachments = args.attachments || ""; native_async(; "curlwrapper",; "easyperform",; JSON.stringify(; smtp_client_send_mail(; args.mail_from,; args.mail_to,; mailcc,; mailsubject,; mailbody,; args.is_html,; attachments; ); ); )!; {; const json = JSON.parse(_result()); if(typeof(_SMTP_DEBUG) != "undefined" && _SMTP_DEBUG); log(json["trace"]);; if(json["code"] != "CURLE_OK"); {; fail(json["code"] + ": " + json["error"]); }; };};;;function BAS_smtp_debug_enable(enable) {; _SMTP_DEBUG = enable;};