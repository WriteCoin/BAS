function BAS_send_email() { const args = _arguments(); const mailcc = args.mail_cc || ""; const mailsubject = args.mail_subject || ""; const mailbody = args.mail_body || ""; const attachments = args.attachments || ""; native_async( "curlwrapper", "easyperform", JSON.stringify( smtp_client_send_mail( args.mail_from, args.mail_to, mailcc, mailsubject, mailbody, args.is_html, attachments; ); ); )!; { const json = JSON.parse(_result()); if(typeof(_SMTP_DEBUG) != "undefined" && _SMTP_DEBUG); log(json["trace"]); if(json["code"] != "CURLE_OK"); { fail(json["code"] + ": " + json["error"]); }; };};